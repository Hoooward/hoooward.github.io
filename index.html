<!DOCTYPE html><html><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><title> Hexo</title><meta name="description" content="A Blog Powered By Hexo"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="short icon" href="/favicon.png"><link rel="stylesheet" href="/css/apollo.css"><link rel="search" type="application/opensearchdescription+xml" href="http://yoursite.com/atom.xml" title="Hexo"></head><body><div class="wrap"><header><a href="/" class="logo-link"><img src="/favicon.png"></a><ul class="nav nav-list"><li class="nav-list-item"><a href="/" target="_self" class="nav-list-link active">BLOG</a></li><li class="nav-list-item"><a href="/archives/" target="_self" class="nav-list-link">ARCHIVE</a></li><li class="nav-list-item"><a href="http://weibo.com/1855353313/" target="_blank" class="nav-list-link">WEIBO</a></li><li class="nav-list-item"><a href="https://github.com/Hoooward" target="_blank" class="nav-list-link">GITHUB</a></li><li class="nav-list-item"><a href="/atom.xml" target="_self" class="nav-list-link">RSS</a></li></ul></header><section class="container"><ul class="home post-list"><li class="post-list-item"><article class="post-block"><h2 class="post-title"><a href="/2016/11/08/使用 Swift 优雅的缓存 Cell 的行高与 subviews 的 frame/" class="post-title-link"></a></h2><div class="post-info">Nov 8, 2016</div><div class="post-content"></div><a href="/2016/11/08/使用 Swift 优雅的缓存 Cell 的行高与 subviews 的 frame/" class="read-more">...more</a></article></li><li class="post-list-item"><article class="post-block"><h2 class="post-title"><a href="/2016/05/20/runtime/" class="post-title-link">利用 Associated Objects 为 UIImageView 添加 activityIndicator</a></h2><div class="post-info">May 20, 2016</div><div class="post-content"><p>在实现类似与微博或者微信的 <code>timeline</code> 功能时, 往往需要在 <code>UITableViewCell</code> 中利用 <code>UIImageView</code> 展示单张或多张图片, 这些图片的来源通常都是网络. 而一旦网络速度不稳定, cell 中的 imageView 异步加载图片的过程就会一直显示 backgroundColor. 用户对图片正在下载的情况全然不知. 而像 <code>SDWebImage</code> 和 <code>Kingfisher</code> 这样的第三方框架很好的解决了这种问题: 一方面可以显示一张 placeholderImage, 也可以显示一个 <code>UIActivityIndicatorView</code> 让用户感受到下载的进程. </p>
<p>而实现 activityIndicatorView 的方法又有很多种, 我第一个想到的就是自定义一个 <code>UIView</code>, 在里面添加一个 <code>UIImageView</code> 和 一个 <code>UIActivityIndicatorView</code>. 之后使用这个自定义的 view 就可以很好的完成任务. 而最近我在使用 <code>Kingfisher</code> 时, 发现它利用 分类 的功能结合 runtime 的特性, 直接为 <code>UIImageView</code> 添加一个 indicatorView 的实例变量. </p>
<p>通过 分类 -&gt; extension 不能添加新的实例变量,  但我们可以利用 runtime 的 Associated Objects 来弥补这一不足.<br></div><a href="/2016/05/20/runtime/" class="read-more">...more</a></article></li><li class="post-list-item"><article class="post-block"><h2 class="post-title"><a href="/2016/03/17/Stack-View的开始/" class="post-title-link">Stack View 的开始</a></h2><div class="post-info">Mar 17, 2016</div><div class="post-content"><p>作为一名刚刚入门 iOS 开发的人来说，理解并熟练使用 Auto Layhout 非常重要。开始接触自动布局是非常困难和复杂的，布局一个视图通常需要添加非常多的约束<code>constraints</code>，尤其是在创建动态视图时，我们要不断的重复添加和删除约束以达到我们想要的效果。而使用 <code>Stack View</code> 可以很大程度上简化我们频繁调试约束的过程。</p>
<p>通常,我们在创建用户界面的时候很多视图是程<code>线性</code>排列的。以下面这个界面为例，界面中包括非常多的子视图<code>UILabel</code>，它们是垂直<code>vertically</code>线性排列的。</p>
<p><img src="http://7xrfzx.com1.z0.glb.clouddn.com/2016-03-17-Screen Shot 2016-03-17 at 3.06.19 PM.png" alt="示例"><br></div><a href="/2016/03/17/Stack-View的开始/" class="read-more">...more</a></article></li><li class="post-list-item"><article class="post-block"><h2 class="post-title"><a href="/2016/03/16/CS193P-第五课笔记/" class="post-title-link">CS193P 第五课笔记</a></h2><div class="post-info">Mar 16, 2016</div><div class="post-content"><h5 id="类型转换-Objective-C-和-Swift"><a href="#类型转换-Objective-C-和-Swift" class="headerlink" title="类型转换 Objective-C 和 Swift"></a>类型转换 Objective-C 和 Swift</h5><p>在 iOS 开发使用 Swift 时， 经常会遇到需要调用<code>Objective-C</code> 类方法的情况，苹果已经将几乎所有的<code>Objective－C</code>的API都已经无缝的转接到了 Swift，同时一些特别的类型也做了桥接，桥接意味着可以随意进行转换。<br><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="type">Let</span> aString = (aString <span class="keyword">as</span> <span class="type">NSString</span>).lenght </div><div class="line">(anArray <span class="keyword">as</span> <span class="type">NSArray</span>).componentsJoinedByString(<span class="type">NSString</span>)</div><div class="line"><span class="comment">/**</div><div class="line">* Array 桥接到了 NSArray。对应的是AnyObject的数组。*</div><div class="line">* Dictionary 桥接到了 NSDictionary 对应的是 [NSObject：AnyObject]</div><div class="line">* Int, Float Double, Bool  都桥接到了 NSNumber （反过来不适用）</div><div class="line">* 如果需要从 NSNumber 对象中获取某个类型需要用 doubleValue，intValue 等。</div><div class="line">*/</span></div></pre></td></tr></table></figure></p>
<p>利用这种<code>括弧 + as</code>的方法可以直接调用<code>Objective-C</code>的方法， 同时实现了自动的类型转换，比如上面的例子，<code>lenght</code>是<code>NSString</code>的方法， 我们可直接在一行代码中将<code>String</code> 转换成<code>NSString</code>并调用其方法。<br></div><a href="/2016/03/16/CS193P-第五课笔记/" class="read-more">...more</a></article></li><li class="post-list-item"><article class="post-block"><h2 class="post-title"><a href="/2016/03/16/CS193P-第四课笔记/" class="post-title-link">CS193P 第四课笔记</a></h2><div class="post-info">Mar 16, 2016</div><div class="post-content"><p>笔记信息的来源大部分来自课程随堂的Keynote，以及一些我个人的看法，因为没有软件开发的基础，难免容易混淆一些基础概念，还请各位看官斧正。<br>这节课主要介绍了在 iOS 开发中经常使用的结构类型，呈现了一些 Swift 语言的一些基础特性，更详细的语法和特性，还是需要仔细阅读苹果官方的<code>The Swift Programming Language</code>来了解的。<br></div><a href="/2016/03/16/CS193P-第四课笔记/" class="read-more">...more</a></article></li><li class="post-list-item"><article class="post-block"><h2 class="post-title"><a href="/2016/03/16/Octopress的初级使用/" class="post-title-link"> Octopress的初级使用</a></h2><div class="post-info">Mar 16, 2016</div><div class="post-content"><p>前两天无意间看到一个部署 Octopress 的教程, 今天终于抽出时间折腾了一下.<br>因为对 Git、Rudy 和 HTML 没啥了解，遇到很多问题，所以先把今后可能用到的语法总结一下。<br><a href="http://octopress.org/docs/">Octopress文档链接</a></p>
<h2 id="代码高亮的-Syntax"><a href="#代码高亮的-Syntax" class="headerlink" title="代码高亮的 Syntax"></a>代码高亮的 Syntax</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">[language] [title] [url] [link text]</div><div class="line">code snippet</div></pre></td></tr></table></figure>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Range</span>&lt;<span class="title">T</span>&gt; </span>&#123;</div><div class="line">    <span class="keyword">var</span> startIndex:<span class="type">T</span></div><div class="line">    <span class="keyword">var</span> endIndex:<span class="type">T</span></div><div class="line">&#125;</div></pre></td></tr></table></figure></div><a href="/2016/03/16/Octopress的初级使用/" class="read-more">...more</a></article></li><li class="post-list-item"><article class="post-block"><h2 class="post-title"><a href="/2016/03/16/iOS-中-UIGestureRecognizer-手势的使用/" class="post-title-link">iOS 中 UIGestureRecognizer 手势的使用</a></h2><div class="post-info">Mar 16, 2016</div><div class="post-content"><p>在 iOS 中包括下列几种手势识别，方便我们自定义一些与用户交互的操作方式。</p>
<p>###1.UIPinchGestureRecognizer<br> 两个手势放大或缩小，<code>Pinch</code> 手势传递的是比例，不是坐标。<br> 当手势开始的时候，比例是 1</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> scale: <span class="type">CGFloat</span> <span class="comment">// not read-only (can set) 当两个手指扩大一倍的时候，scale 为2，靠拢到一半的时候 scale 变成 0.5 </span></div><div class="line"><span class="keyword">var</span> velocity: <span class="type">CGFloat</span> &#123; <span class="keyword">get</span> &#125; <span class="comment">// scale factor per second</span></div></pre></td></tr></table></figure>
<p>###2.UIRotationGestureRecognizer<br>两个手指的手势，在一个圆周上转动。就像一个旋转的按钮。他会告诉你旋转了多少弧度<code>retation</code></p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> retation: <span class="type">CGFloat</span> <span class="comment">// not read-only (can reset); in radians</span></div><div class="line"><span class="keyword">var</span> velocity: <span class="type">CGFloat</span> &#123; <span class="keyword">get</span> &#125; <span class="comment">// radians per second</span></div></pre></td></tr></table></figure></div><a href="/2016/03/16/iOS-中-UIGestureRecognizer-手势的使用/" class="read-more">...more</a></article></li></ul></section><footer><div class="paginator"></div><div class="copyright"><p>© 2015 - 2016 <a href="http://yoursite.com">John Doe</a>, powered by <a href="https://hexo.io/" target="_blank">Hexo</a> and <a href="https://github.com/pinggod/hexo-theme-apollo" target="_blank">hexo-theme-apollo</a>.</p></div></footer></div><script async src="//cdn.bootcss.com/mathjax/2.6.1/MathJax.js?config=TeX-MML-AM_CHTML"></script><script>(function(b,o,i,l,e,r){b.GoogleAnalyticsObject=l;b[l]||(b[l]=function(){(b[l].q=b[l].q||[]).push(arguments)});b[l].l=+new Date;e=o.createElement(i);r=o.getElementsByTagName(i)[0];e.src='//www.google-analytics.com/analytics.js';r.parentNode.insertBefore(e,r)}(window,document,'script','ga'));ga('create',"UA-65933410-1",'auto');ga('send','pageview');</script></body></html>